<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">

<head>
    <meta charset="UTF-8" />
    <title th:text="${doc.title}">문서</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
</head>

<body class="bg-light">
    <div class="container my-4">

        <!-- 헤더 -->
        <div class="d-flex justify-content-between align-items-start">
            <div>
                <h1 class="h3 mb-1" th:text="${doc.title}">제목</h1>
                <div class="text-muted small">
                    <span th:if="${doc.createdBy != null}" th:text="${doc.createdBy.username}">작성자</span>
                    ·
                    <span
                        th:text="${#temporals.format(doc.updatedAt != null ? doc.updatedAt : doc.createdAt, 'yyyy-MM-dd HH:mm')}">
                        2025-01-01 00:00
                    </span>
                    <span class="badge text-bg-secondary ms-2" th:text="${doc.slug}">slug</span>
                </div>
            </div>
            <div class="btn-group">
                <a class="btn btn-sm btn-outline-secondary" th:href="@{'/docs/' + ${doc.slug} + '/edit'}">수정</a>
                <a class="btn btn-sm btn-outline-secondary" th:href="@{'/docs/' + ${doc.slug} + '/history'}">히스토리</a>
                <a class="btn btn-sm btn-primary" th:href="@{/docs}">목록</a>
            </div>
        </div>

        <!-- 요약 -->
        <div class="mt-3 mb-4" th:if="${doc.summary}">
            <p class="lead mb-0" th:text="${doc.summary}">요약</p>
        </div>

        <!-- 섹션들: 컨트롤러에서 SectionView(html 포함)를 넣어줍니다 -->
        <div th:each="s : ${sections}" class="mb-4">
            <h2 class="h5" th:text="${s.heading}">섹션 제목</h2>
            <div class="mt-2" th:utext="${s.html}">섹션 내용</div>
        </div>

    </div>
</body>

</html>